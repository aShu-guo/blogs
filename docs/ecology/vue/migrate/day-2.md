# day-2 完成布局组件

项目的菜单的布局如下

![img.png](/imgs/vue-migrate/menu.png)

## 目前存在的问题

之前的项目是使用antdv的layout组件+menu组件做二次封装，UI给出的设计图中首页的菜单布局和非首页的菜单布局不同。

首页的二级菜单是通过类似tabs组件的形式来进行切换，但是非首页的二级菜单是通过类似submenu组件形式切换。

之前的设计是在RouteRecordRaw中添加一个属性名为home的属性，但是这样破坏了RouteRecordRaw的结构，导致代码的可读性较差。所以这次重写时，将home属性的声明放在meta中来区分当前页面为首页，用于区分不同的菜单展示。

这种菜单布局会导致许多问题：

- 当菜单数量不是偶数个时，中间banner图片无法做到居中展示。因为每个菜单都设置了`flex:1`
  ，所以要保证图片左边的菜单字数和右边的菜单字数相同才可能居中，而且需要处理菜单数量出现奇数个的情况。
- 需要考虑不同屏幕宽度下的菜单如何展示
- 在重写时，使用了antdv提供的vue版本的pro-component，但是并没有普通layout组件灵活，所以必须手动更改dom，在菜单中插入banner图片。


